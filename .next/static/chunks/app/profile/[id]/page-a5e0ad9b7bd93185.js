(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{8897:function(e,i,s){Promise.resolve().then(s.bind(s,2297))},2297:function(e,i,s){"use strict";s.r(i),s.d(i,{default:function(){return u}});var n=s(7437),l=s(1279),d=s(2759),r=s(2749),t=s(2333),c=s(9222),a=s(6526),o=s(4033);function u(e){var i,s,u,h,v;let{params:x}=e,{id:j}=x,{data:m,status:p}=(0,r.useSession)(),f=(0,o.useRouter)();j===(null==m?void 0:m.user.id)&&f.push("/profile");let{data:g,error:w,isLoading:N}=(0,t.ZP)("/api/profile/".concat(j),async()=>{let e=await c.Z.get("/api/profile/".concat(j));return e.data});return(console.log(g),N)?(0,n.jsx)("p",{children:"Loading..."}):w?(console.log(w),(0,n.jsx)("p",{children:w.message})):(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"d-flex",style:{marginTop:"100px"},children:[(0,n.jsxs)("div",{className:"me-5 w-75",children:[(0,n.jsx)("div",{className:"mb-4 d-flex justify-content-between",children:(0,n.jsxs)("h1",{children:[null===(i=g[0])||void 0===i?void 0:i.name," reviews"]})}),0===g[1].length&&(0,n.jsx)("p",{children:"There are no reviews here yet"}),null===(s=g[1])||void 0===s?void 0:s.map(e=>(0,n.jsx)(a.Z,{reviewData:e,id:j}))]}),(0,n.jsx)("div",{className:"w-25",children:(0,n.jsxs)("div",{className:"p-3 shadow rounded",children:[(0,n.jsx)("img",{src:"/images/avatar.jpeg",alt:"",className:"img-fluid rounded mb-3"}),(0,n.jsx)("p",{children:null===(u=g[0])||void 0===u?void 0:u.name}),(0,n.jsx)("p",{children:null===(h=g[0])||void 0===h?void 0:h.email}),(0,n.jsxs)("p",{children:[" ",(0,n.jsxs)("strong",{children:[" ",null===(v=g[1])||void 0===v?void 0:v.length," "]})," reviews "]}),(0,n.jsxs)("p",{children:[(0,n.jsx)(l.G,{icon:d.m6i}),"\xa0",(0,n.jsx)("strong",{children:"120"}),"\xa0likes"]})]})})]})})}},6526:function(e,i,s){"use strict";s.d(i,{Z:function(){return o}});var n=s(7437),l=s(2749),d=s(1396),r=s.n(d),t=s(2265),c=s(6598),a=s(9588);function o(e){var i,s;let{reviewData:d,id:o}=e,[u,h]=(0,t.useState)([]);console.log(d);let{data:v,status:x}=(0,l.useSession)();return d.length>0&&h(JSON.parse(JSON.stringify(d.tags))),(0,n.jsxs)("div",{className:"mb-5",children:[(0,n.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,n.jsxs)(r(),{href:"/review/".concat(null==d?void 0:d._id),className:"text-decoration-none text-body d-flex",children:[(0,n.jsx)("div",{className:"me-5 mt-2",children:(0,n.jsx)("img",{src:null==d?void 0:d.img,alt:"",className:"object-fit-cover",style:{width:"156px",height:"231px",background:"red"}})}),(0,n.jsxs)("div",{className:"w-75",children:[(0,n.jsx)("h2",{children:null==d?void 0:d.titleReview}),(0,n.jsx)("h4",{children:null==d?void 0:d.titleItem}),(0,n.jsx)("p",{children:null==d?void 0:null===(i=d.category)||void 0===i?void 0:i.name}),(0,n.jsx)("p",{children:u.map(e=>{let i=JSON.parse(e);return i.name+" "})}),(0,n.jsx)(a.D,{children:(null==d?void 0:null===(s=d.desc)||void 0===s?void 0:s.substring(0,200))+"..."}),(0,n.jsxs)("p",{children:["Rate: ",null==d?void 0:d.rating]}),(0,n.jsx)("div",{className:"d-flex justify-content-between",children:(0,n.jsxs)("p",{children:["Review likes: ",null==d?void 0:d.likes]})})]})]}),o===(null==v?void 0:v.user.id)&&(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(c.Z.Toggle,{variant:"secondary",id:"dropdown-basic",children:"More actions"}),(0,n.jsxs)(c.Z.Menu,{children:[(0,n.jsx)(c.Z.Item,{href:"/review/edit/".concat(null==d?void 0:d._id),children:"Edit"}),(0,n.jsx)(c.Z.Divider,{}),(0,n.jsx)(c.Z.Item,{className:"text-danger",href:"/review/delete/".concat(null==d?void 0:d._id),children:"Delete"})]})]})]}),(0,n.jsx)("hr",{className:"w-100"})]})}}},function(e){e.O(0,[676,726,222,749,588,333,279,841,615,598,971,596,744],function(){return e(e.s=8897)}),_N_E=e.O()}]);