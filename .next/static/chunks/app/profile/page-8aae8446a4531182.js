(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{6245:function(e,i,s){Promise.resolve().then(s.bind(s,3952))},3952:function(e,i,s){"use strict";s.r(i),s.d(i,{default:function(){return x}});var n=s(7437),l=s(1279),d=s(2759),r=s(1396),t=s.n(r),c=s(2749),a=s(6525),o=s(9222),u=s(6716),h=s(6526);function x(e){var i,s;let{params:r}=e,{data:x,status:v}=(0,c.useSession)(),j=null==x?void 0:x.user.id,{data:m,error:p,isLoading:f}=(0,a.ZP)("/api/profile/".concat(j),async()=>{let e=await o.Z.get("/api/profile/".concat(j));return e.data},{refreshInterval:100});return f?(0,n.jsx)("p",{children:"Loading..."}):p?(console.log(p),(0,n.jsx)("p",{children:p.message})):(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"row",style:{marginTop:"80px"},children:[(0,n.jsxs)("div",{className:"col col-md-3 mb-4",style:{minWidth:"260px"},children:[(0,n.jsx)("h1",{className:"mb-4",children:"Your profile"}),(0,n.jsxs)("div",{className:"p-4 shadow rounded",children:[(0,n.jsx)("p",{children:null==x?void 0:x.user.name}),(0,n.jsx)("p",{children:null==x?void 0:x.user.email}),(0,n.jsxs)("p",{children:["Reviews:\xa0",(0,n.jsxs)("strong",{children:[" ",null===(i=m[1])||void 0===i?void 0:i.length," "]})]}),(0,n.jsxs)("p",{children:["Likes:\xa0",(0,n.jsx)("strong",{children:"120"}),"\xa0",(0,n.jsx)(l.G,{icon:d.m6i})]}),j===(null==x?void 0:x.user.id)&&(0,n.jsx)(u.Z,{variant:"outline-danger",onClick:()=>(0,c.signOut)(),children:"Log Out"})]})]}),(0,n.jsxs)("div",{className:"col",style:{minWidth:"70%"},children:[(0,n.jsxs)("div",{className:"mb-4 d-flex justify-content-between",children:[(0,n.jsx)("h1",{children:"Your reviews"}),j===(null==x?void 0:x.user.id)&&(0,n.jsx)("div",{className:"pt-2",children:(0,n.jsxs)(t(),{href:"/review/add",className:"btn btn-primary",children:[(0,n.jsx)(l.G,{icon:d.r8p,style:{width:"14px",height:"16px"}}),"\xa0 Add new"]})})]}),0===m[1].length&&(0,n.jsx)("p",{children:"There are no reviews here yet"}),null===(s=m[1])||void 0===s?void 0:s.map(e=>(0,n.jsx)(h.Z,{reviewData:e,id:j}))]})]})})}s(4033)},6526:function(e,i,s){"use strict";s.d(i,{Z:function(){return u}});var n=s(7437),l=s(9222),d=s(2749),r=s(1396),t=s.n(r),c=s(2265),a=s(9314),o=s(9588);function u(e){var i,s;let{reviewData:r,id:u}=e,{data:h,status:x}=(0,d.useSession)(),[v,j]=(0,c.useState)(JSON.parse(JSON.stringify(null==r?void 0:r.tags))),[m,p]=(0,c.useState)(!1);return(0,n.jsxs)("div",{className:"mb-5",children:[(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)(t(),{href:"/review/".concat(null==r?void 0:r._id),className:"col text-decoration-none text-body d-flex justify-content-between",children:[(0,n.jsx)("div",{className:"mt-2 me-3",style:{maxWidth:"150px"},children:(0,n.jsx)("img",{src:null==r?void 0:r.img,alt:"",className:"object-fit-cover w-100 h-auto",style:{minWidth:"70px"}})}),(0,n.jsxs)("div",{style:{minWidth:"180px"},children:[(0,n.jsx)("h2",{children:null==r?void 0:r.titleReview}),(0,n.jsx)("h4",{children:null==r?void 0:r.titleItem}),(0,n.jsx)("p",{children:null==r?void 0:null===(i=r.category)||void 0===i?void 0:i.name}),(0,n.jsx)("p",{children:null==v?void 0:v.map(e=>{let i=JSON.parse(e);return i.name+" "})}),(0,n.jsx)(o.D,{children:(null==r?void 0:null===(s=r.desc)||void 0===s?void 0:s.substring(0,200))+"..."}),(0,n.jsxs)("p",{children:["Rate: ",null==r?void 0:r.rating]}),(0,n.jsx)("div",{className:"d-flex justify-content-between",children:(0,n.jsxs)("p",{children:["Review likes: ",null==r?void 0:r.likes]})})]})]}),u===(null==h?void 0:h.user.id)&&(0,n.jsxs)(a.Z,{className:"col col-auto",children:[(0,n.jsx)(a.Z.Toggle,{variant:"secondary",id:"dropdown-basic",children:"More actions"}),(0,n.jsxs)(a.Z.Menu,{children:[(0,n.jsx)(a.Z.Item,{href:"/review/edit/".concat(null==r?void 0:r._id),children:"Edit"}),(0,n.jsx)(a.Z.Divider,{}),(0,n.jsx)(a.Z.Item,{className:"text-danger",onClick:()=>l.Z.delete("/api/review/delete/".concat(null==r?void 0:r._id)),children:"Delete"})]})]})]})}),(0,n.jsx)("hr",{className:"w-100"})]},null==r?void 0:r._id)}}},function(e){e.O(0,[676,146,222,749,279,86,588,333,314,971,596,744],function(){return e(e.s=6245)}),_N_E=e.O()}]);