(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{8949:function(e,n,i){"use strict";i.d(n,{FT:function(){return s}});var t=i(2265),l=i(7437);let r=["as","disabled"];function s({tagName:e,disabled:n,href:i,target:t,rel:l,role:r,onClick:s,tabIndex:o=0,type:d}){e||(e=null!=i||null!=t||null!=l?"a":"button");let a={tagName:e};if("button"===e)return[{type:d||"button",disabled:n},a];let c=t=>{var l;if(!n&&("a"!==e||(l=i)&&"#"!==l.trim())||t.preventDefault(),n){t.stopPropagation();return}null==s||s(t)};return"a"===e&&(i||(i="#"),n&&(i=void 0)),[{role:null!=r?r:"button",disabled:void 0,tabIndex:n?void 0:o,href:i,target:"a"===e?t:void 0,"aria-disabled":n||void 0,rel:"a"===e?l:void 0,onClick:c,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),c(e))}},a]}let o=t.forwardRef((e,n)=>{let{as:i,disabled:t}=e,o=function(e,n){if(null==e)return{};var i,t,l={},r=Object.keys(e);for(t=0;t<r.length;t++)i=r[t],n.indexOf(i)>=0||(l[i]=e[i]);return l}(e,r),[d,{tagName:a}]=s(Object.assign({tagName:i,disabled:t},o));return(0,l.jsx)(a,Object.assign({},o,d,{ref:n}))});o.displayName="Button",n.ZP=o},4440:function(e,n){var i;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var t={}.hasOwnProperty;function l(){for(var e=[],n=0;n<arguments.length;n++){var i=arguments[n];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i)){if(i.length){var s=l.apply(null,i);s&&e.push(s)}}else if("object"===r){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){e.push(i.toString());continue}for(var o in i)t.call(i,o)&&i[o]&&e.push(o)}}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0!==(i=(function(){return l}).apply(n,[]))&&(e.exports=i)}()},8897:function(e,n,i){Promise.resolve().then(i.bind(i,2297))},2297:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return u}});var t=i(7437),l=i(1279),r=i(2759),s=i(2749),o=i(6525),d=i(9222),a=i(4033);i(2115);var c=i(6526);function u(e){var n,i,u,v,h,x,f;let{params:p}=e,{id:m}=p,{data:j,status:g}=(0,s.useSession)(),N=(0,a.useRouter)();m===(null==j?void 0:j.user.id)&&N.push("/profile");let{data:y,error:b,isLoading:w}=(0,o.ZP)("/api/profile/".concat(m),async()=>{let e=await d.Z.get("/api/profile/".concat(m));return e.data},{refreshInterval:100});if(w)return(0,t.jsx)("p",{children:"Loading..."});if(b)return console.log(b),(0,t.jsx)("p",{children:"Something went wrong. Try to reload page"});let S=[];return null===(n=y[1])||void 0===n||n.filter(e=>{e.likes.length>0&&S.push(...e.likes)}),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"row",style:{marginTop:"80px"},children:[(0,t.jsxs)("div",{className:"col col-md-3 mb-4",children:[(0,t.jsxs)("h1",{className:"mb-4",children:[null===(i=y[0])||void 0===i?void 0:i.name,"'s profile"]}),(0,t.jsxs)("div",{className:"p-3 shadow rounded",children:[(0,t.jsx)("p",{children:null===(u=y[0])||void 0===u?void 0:u.name}),(0,t.jsx)("p",{children:null===(v=y[0])||void 0===v?void 0:v.email}),(0,t.jsxs)("p",{children:[(0,t.jsxs)("strong",{children:[" ",null===(h=y[1])||void 0===h?void 0:h.length," "]})," reviews"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)(l.G,{icon:r.m6i}),"\xa0",(0,t.jsx)("strong",{children:S.length}),"\xa0likes"]})]})]}),(0,t.jsxs)("div",{className:"col",style:{minWidth:"70%"},children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("h1",{children:[null===(x=y[0])||void 0===x?void 0:x.name," reviews"]})}),0===y[1].length&&(0,t.jsx)("p",{children:"There are no reviews here yet"}),null===(f=y[1])||void 0===f?void 0:f.map(e=>(0,t.jsx)(c.Z,{reviewData:e,id:m}))]})]})})}},6526:function(e,n,i){"use strict";i.d(n,{Z:function(){return u}});var t=i(7437),l=i(9222),r=i(2749),s=i(1396),o=i.n(s),d=i(2265),a=i(4850),c=i(9588);function u(e){var n,i;let{reviewData:s,id:u}=e,{data:v,status:h}=(0,r.useSession)(),[x,f]=(0,d.useState)(JSON.parse(JSON.stringify(null==s?void 0:s.tags)));return(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsxs)(o(),{href:"/review/".concat(null==s?void 0:s._id),className:"col text-decoration-none text-body d-flex ",children:[(0,t.jsx)("div",{className:"mt-2 me-3",style:{maxWidth:"150px"},children:(0,t.jsx)("img",{src:null==s?void 0:s.img,alt:"",className:"object-fit-cover w-100 h-auto",style:{minWidth:"70px"}})}),(0,t.jsxs)("div",{style:{minWidth:"180px"},children:[(0,t.jsx)("h2",{children:null==s?void 0:s.titleReview}),(0,t.jsx)("h4",{children:null==s?void 0:s.titleItem}),(0,t.jsx)("p",{children:null==s?void 0:null===(n=s.category)||void 0===n?void 0:n.name}),(0,t.jsx)("p",{children:null==x?void 0:x.map(e=>{let n=JSON.parse(e);return n.name+" "})}),(0,t.jsx)(c.D,{children:(null==s?void 0:null===(i=s.desc)||void 0===i?void 0:i.substring(0,200))+"..."}),(0,t.jsxs)("p",{children:["Rate: ",null==s?void 0:s.rating]}),(0,t.jsx)("div",{className:"d-flex justify-content-between",children:(0,t.jsxs)("p",{children:["Review likes: ",null==s?void 0:s.likes.length]})})]})]}),(u===(null==v?void 0:v.user.id)||(null==v?void 0:v.user.admin))&&(0,t.jsxs)(a.Z,{className:"col col-auto",children:[(0,t.jsx)(a.Z.Toggle,{variant:"secondary",id:"dropdown-basic",children:"More actions"}),(0,t.jsxs)(a.Z.Menu,{children:[(0,t.jsx)(a.Z.Item,{href:"/review/edit/".concat(null==s?void 0:s._id),children:"Edit"}),(0,t.jsx)(a.Z.Divider,{}),(0,t.jsx)(a.Z.Item,{className:"text-danger",onClick:()=>l.Z.delete("/api/review/delete/".concat(null==s?void 0:s._id)),children:"Delete"})]})]})]})}),(0,t.jsx)("hr",{className:"w-100"})]},null==s?void 0:s._id)}},2115:function(e,n,i){"use strict";i.d(n,{Z:function(){return a}});var t=i(7437),l=i(2749),r=i(1396),s=i.n(r),o=i(2265),d=i(9588);function a(e){var n,i,r,a,c,u,v;let{main:h,reviewData:x}=e,[f,p]=(0,o.useState)(JSON.parse(JSON.stringify(null==x?void 0:x.tags))),{data:m,status:j}=(0,l.useSession)();return console.log(x),(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsxs)("div",{className:"d-flex",children:[(0,t.jsx)(s(),{href:"/review/".concat(null==x?void 0:x._id),className:"text-decoration-none text-body mt-2 me-3",children:(0,t.jsx)("div",{style:{maxWidth:"150px"},children:(0,t.jsx)("img",{src:null==x?void 0:x.img,alt:"",className:"object-fit-cover w-100 h-auto",style:{minWidth:"70px"}})})}),(0,t.jsxs)("div",{className:"w-75",style:{minWidth:"180px"},children:[(0,t.jsxs)(s(),{href:"/review/".concat(x._id),className:"text-decoration-none text-body",children:[(0,t.jsx)("h2",{children:null==x?void 0:x.titleReview}),(0,t.jsx)("h4",{children:null==x?void 0:x.titleItem}),(0,t.jsx)("p",{children:null==x?void 0:null===(n=x.category)||void 0===n?void 0:n.name}),(0,t.jsx)("p",{children:null==f?void 0:f.map(e=>{let n=JSON.parse(e);return n.name+" "})}),h?(0,t.jsx)(d.D,{children:(null==x?void 0:null===(i=x.desc)||void 0===i?void 0:i.substring(0,200))+"..."}):(0,t.jsx)(d.D,{children:null==x?void 0:x.desc}),(0,t.jsxs)("p",{children:["Rate: ",null==x?void 0:x.rating]})]}),(0,t.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,t.jsxs)("p",{children:["Review likes: ",null==x?void 0:null===(r=x.likes)||void 0===r?void 0:r.length]}),(null==x?void 0:null===(a=x.author)||void 0===a?void 0:a.name)&&(0,t.jsxs)("p",{children:["Author: \xa0",(0,t.jsx)(s(),{href:(null==x?void 0:null===(c=x.author)||void 0===c?void 0:c._id)===(null==m?void 0:null===(u=m.user)||void 0===u?void 0:u.id)?"/profile":"/profile/".concat(null==x?void 0:null===(v=x.author)||void 0===v?void 0:v._id),className:"text-primary",children:null==x?void 0:x.author.name})]})]})]})]}),(0,t.jsx)("hr",{className:"w-100"})]},x._id)}},4033:function(e,n,i){e.exports=i(8165)},6716:function(e,n,i){"use strict";var t=i(4440),l=i.n(t),r=i(2265),s=i(8949),o=i(7127),d=i(7437);let a=r.forwardRef(({as:e,bsPrefix:n,variant:i="primary",size:t,active:r=!1,disabled:a=!1,className:c,...u},v)=>{let h=(0,o.vE)(n,"btn"),[x,{tagName:f}]=(0,s.FT)({tagName:e,disabled:a,...u});return(0,d.jsx)(f,{...x,...u,ref:v,disabled:a,className:l()(c,h,r&&"active",i&&`${h}-${i}`,t&&`${h}-${t}`,u.href&&a&&"disabled")})});a.displayName="Button",n.Z=a},7127:function(e,n,i){"use strict";i.d(n,{SC:function(){return c},pi:function(){return d},vE:function(){return o},zG:function(){return a}});var t=i(2265);i(7437);let l=t.createContext({prefixes:{},breakpoints:["xxl","xl","lg","md","sm","xs"],minBreakpoint:"xs"}),{Consumer:r,Provider:s}=l;function o(e,n){let{prefixes:i}=(0,t.useContext)(l);return e||i[n]||n}function d(){let{breakpoints:e}=(0,t.useContext)(l);return e}function a(){let{minBreakpoint:e}=(0,t.useContext)(l);return e}function c(){let{dir:e}=(0,t.useContext)(l);return"rtl"===e}},2510:function(e,n,i){"use strict";i.d(n,{Z:function(){return c}});var t=i(4440),l=i.n(t),r=/-(.)/g,s=i(2265),o=i(7127),d=i(7437);let a=e=>e[0].toUpperCase()+e.replace(r,function(e,n){return n.toUpperCase()}).slice(1);function c(e,{displayName:n=a(e),Component:i,defaultProps:t}={}){let r=s.forwardRef(({className:n,bsPrefix:r,as:s=i||"div",...a},c)=>{let u={...t,...a},v=(0,o.vE)(r,e);return(0,d.jsx)(s,{ref:c,className:l()(n,v),...u})});return r.displayName=n,r}},267:function(e){"use strict";e.exports=function(){}}},function(e){e.O(0,[676,726,222,749,588,279,86,333,850,971,596,744],function(){return e(e.s=8897)}),_N_E=e.O()}]);