(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5440:function(e,a,t){Promise.resolve().then(t.bind(t,4976))},4976:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return d}});var l=t(7437),i=t(9222),n=t(6525),s=t(2115),o=t(2265),r=t(3270);t(3538);let c="http://localhost:3000";function d(){let[e,a]=(0,o.useState)([]),[t,d]=(0,o.useState)(""),{data:u,error:h,isLoading:v}=(0,n.ZP)(c+"/api/review/",async()=>{let e=await i.Z.get(c+"/api/review/");return a(e.data),e.data},{revalidateOnMount:!0,revalidateOnFocus:!1});return v?(0,l.jsx)("p",{children:"Loading..."}):h?(console.log(h),(0,l.jsx)("p",{children:"Something went wrong. Try to reload page"})):(0,l.jsx)("div",{className:"vh-100",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"row mb-4",children:[(0,l.jsx)("h1",{className:"display-3 col col-auto",children:"HOME PAGE"}),(0,l.jsx)(r.Z,{url:"/api/review",getQuery:e=>{d(e)},getReviews:e=>{a(e)}})]}),(null==e?void 0:e.length)===0&&(0,l.jsx)("p",{children:"There are no reviews here yet"}),e&&(null==e?void 0:e.map(e=>(0,l.jsx)(s.Z,{main:!0,data:e,highlight:t},e._id)))]})})}},3270:function(e,a,t){"use strict";t.d(a,{Z:function(){return j}});var l=t(7437),i=t(6716),n=t(4883),s=t(9222),o=t(6525),r=t(3075);function c(e){let{url:a,getCategory:t}=e,{data:i,error:c,isLoading:d}=(0,o.ZP)("http://localhost:3000/api/category",async()=>{let e=await s.Z.get("/api/category");return e.data},{revalidateOnMount:!0,revalidateOnFocus:!1});return(0,l.jsxs)(n.Z.Group,{className:"col col-auto mb-3",children:[(0,l.jsx)(n.Z.Label,{children:"Choice category"}),(0,l.jsx)(r.Z,{children:(0,l.jsxs)(n.Z.Select,{name:"category",placeholder:"Choice category","aria-label":"category",onChange:e=>{t(e.target.value)},children:[(0,l.jsx)("option",{value:"",children:"All categories"}),null==i?void 0:i.map(e=>(0,l.jsx)("option",{value:e.name,children:e.name},e.key))]})})]})}var d=t(1279),u=t(2265),h=t(2759);function v(e){let{url:a,getSearch:t}=e,[s,o]=(0,u.useState)("");return t(s),(0,l.jsxs)(n.Z.Group,{className:"col col-auto mb-3",children:[(0,l.jsx)(n.Z.Label,{children:"Enter review title, text, author or comment"}),(0,l.jsxs)(r.Z,{children:[(0,l.jsx)(r.Z.Text,{className:"text-secondary",children:(0,l.jsx)(d.G,{icon:h.Y$T})}),(0,l.jsx)(n.Z.Control,{placeholder:"Find a review",value:s,"aria-label":"Find a review","aria-describedby":"basic-addon2",onChange:e=>o(e.target.value)}),(0,l.jsx)(i.Z,{variant:"outline-secondary",className:"input-group-text ",id:"basic-addon3",onClick:()=>{o("")},children:(0,l.jsx)(d.G,{icon:h.g82})})]})]})}t(6282);var x=t(3538);function m(e){let{url:a,getTags:t}=e,[i,r]=(0,u.useState)([]),[c,d]=(0,u.useState)([]),{data:h,error:v,isLoading:m}=(0,o.ZP)("http://localhost:3000/api/tags",async()=>{let e=await s.Z.get("/api/tags");return d(e.data.map(e=>e.name)),e.data},{revalidateOnMount:!0,revalidateOnFocus:!1});return t(i),(0,l.jsxs)(n.Z.Group,{className:"col col-auto mb-3",children:[(0,l.jsx)(n.Z.Label,{children:"Choice tags"}),(0,l.jsx)(x.pY,{id:"basic-typeahead-multiple",labelKey:"name",multiple:!0,onChange:r,options:c,placeholder:"Choose several tags...",selected:i,className:"text-body"})]})}function j(e){let{url:a,getReviews:t,getQuery:o}=e,[r,d]=(0,u.useState)(""),[h,x]=(0,u.useState)(""),[j,p]=(0,u.useState)([]);console.log(j,h,r);let g=async e=>{e.preventDefault();let l=await s.Z.get("http://localhost:3000"+"".concat(a,"?category=").concat(r,"&search=").concat(h,"&tags=").concat(j));t(l.data),o(h)};return(0,l.jsx)("div",{className:"col col-auto",children:(0,l.jsxs)(n.Z,{onSubmit:g,className:"row",children:[(0,l.jsx)(m,{getTags:e=>{p(e)}}),(0,l.jsx)(c,{getCategory:e=>{d(e)}}),(0,l.jsx)(v,{getSearch:e=>{x(e)}}),(0,l.jsx)(n.Z.Group,{children:(0,l.jsx)(i.Z,{variant:"primary",type:"submit",children:"Search"})})]})})}},2115:function(e,a,t){"use strict";t.d(a,{Z:function(){return d}});var l=t(7437),i=t(2749),n=t(1396),s=t.n(n),o=t(8829),r=t.n(o),c=t(9588);function d(e){var a,t,n,o,d,u,h;let{main:v,data:x,highlight:m}=e,{data:j,status:p}=(0,i.useSession)();return(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsxs)("div",{className:"d-flex",children:[(0,l.jsx)(s(),{href:"/review/".concat(null==x?void 0:x._id),className:"text-decoration-none text-body mt-2 me-3",children:(0,l.jsx)("div",{style:{maxWidth:"150px"},children:(0,l.jsx)("img",{src:null==x?void 0:x.img,alt:"",className:"object-fit-cover w-100 h-auto",style:{minWidth:"70px"}})})}),(0,l.jsxs)("div",{className:"w-75",style:{minWidth:"180px"},children:[(0,l.jsxs)(s(),{href:"/review/".concat(x._id),className:"text-decoration-none text-body",children:[(0,l.jsx)("h2",{children:null==x?void 0:x.titleReview}),(0,l.jsx)("h4",{children:null==x?void 0:x.titleItem}),(0,l.jsx)("p",{children:null==x?void 0:null===(a=x.category)||void 0===a?void 0:a.name}),(0,l.jsx)("p",{children:null==x?void 0:x.tags.map(e=>(0,l.jsx)("span",{className:"rbt-token p-1",children:e+" "}))}),v?(0,l.jsx)("div",{className:"mb-3",children:(0,l.jsx)(r(),{highlightClassName:"bg-warning",searchWords:[m],autoEscape:!0,textToHighlight:(null==x?void 0:null===(t=x.desc)||void 0===t?void 0:t.substring(0,200))+"..."})}):(0,l.jsx)(c.D,{children:null==x?void 0:x.desc}),(0,l.jsxs)("p",{children:["Rate: ",null==x?void 0:x.rating]})]}),(0,l.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,l.jsxs)("p",{children:["Review likes: ",null==x?void 0:null===(n=x.likes)||void 0===n?void 0:n.length]}),(null==x?void 0:null===(o=x.author)||void 0===o?void 0:o.name)&&(0,l.jsxs)("p",{children:["Author: \xa0",(0,l.jsx)(s(),{href:(null==x?void 0:null===(d=x.author)||void 0===d?void 0:d._id)===(null==j?void 0:null===(u=j.user)||void 0===u?void 0:u.id)?"/profile":"/profile/".concat(null==x?void 0:null===(h=x.author)||void 0===h?void 0:h._id),className:"text-primary",children:null==x?void 0:x.author.name})]})]})]})]}),(0,l.jsx)("hr",{className:"w-100"})]})}}},function(e){e.O(0,[676,504,749,222,883,279,471,195,333,588,971,596,744],function(){return e(e.s=5440)}),_N_E=e.O()}]);