(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{8897:function(e,i,l){Promise.resolve().then(l.bind(l,2297))},2297:function(e,i,l){"use strict";l.r(i),l.d(i,{default:function(){return v}});var s=l(7437),n=l(1279),d=l(2759),t=l(2749),r=l(2333),a=l(9222);l(6526);var o=l(4033),c=l(2115);function v(e){var i,l,v,u,h,x;let{params:m}=e,{id:j}=m,{data:p,status:f}=(0,t.useSession)(),N=(0,o.useRouter)();j===(null==p?void 0:p.user.id)&&N.push("/profile");let{data:w,error:g,isLoading:y}=(0,r.ZP)("/api/profile/".concat(j),async()=>{let e=await a.Z.get("/api/profile/".concat(j));return e.data},{refreshInterval:100});return y?(0,s.jsx)("p",{children:"Loading..."}):g?(console.log(g),(0,s.jsx)("p",{children:g.message})):(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"row",style:{marginTop:"80px"},children:[(0,s.jsxs)("div",{className:"col col-md-3 mb-4",children:[(0,s.jsxs)("h1",{className:"mb-4",children:[null===(i=w[0])||void 0===i?void 0:i.name,"'s profile"]}),(0,s.jsxs)("div",{className:"p-3 shadow rounded",children:[(0,s.jsx)("p",{children:null===(l=w[0])||void 0===l?void 0:l.name}),(0,s.jsx)("p",{children:null===(v=w[0])||void 0===v?void 0:v.email}),(0,s.jsxs)("p",{children:[(0,s.jsxs)("strong",{children:[" ",null===(u=w[1])||void 0===u?void 0:u.length," "]})," reviews"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)(n.G,{icon:d.m6i}),"\xa0",(0,s.jsx)("strong",{children:"120"}),"\xa0likes"]})]})]}),(0,s.jsxs)("div",{className:"col",style:{minWidth:"70%"},children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("h1",{children:[null===(h=w[0])||void 0===h?void 0:h.name," reviews"]})}),0===w[1].length&&(0,s.jsx)("p",{children:"There are no reviews here yet"}),null===(x=w[1])||void 0===x?void 0:x.map(e=>(0,s.jsx)(c.Z,{reviewData:e,id:j}))]})]})})}},6526:function(e,i,l){"use strict";l.d(i,{Z:function(){return v}});var s=l(7437),n=l(9222),d=l(2749),t=l(1396),r=l.n(t),a=l(2265),o=l(8595),c=l(9588);function v(e){var i,l;let{reviewData:t,id:v}=e,{data:u,status:h}=(0,d.useSession)(),[x,m]=(0,a.useState)(JSON.parse(JSON.stringify(null==t?void 0:t.tags))),[j,p]=(0,a.useState)(!1);return(0,s.jsxs)("div",{className:"mb-5",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"row",children:[(0,s.jsxs)(r(),{href:"/review/".concat(null==t?void 0:t._id),className:"col text-decoration-none text-body d-flex justify-content-between",children:[(0,s.jsx)("div",{className:"mt-2 me-3",style:{maxWidth:"150px"},children:(0,s.jsx)("img",{src:null==t?void 0:t.img,alt:"",className:"object-fit-cover w-100 h-auto",style:{minWidth:"70px"}})}),(0,s.jsxs)("div",{style:{minWidth:"180px"},children:[(0,s.jsx)("h2",{children:null==t?void 0:t.titleReview}),(0,s.jsx)("h4",{children:null==t?void 0:t.titleItem}),(0,s.jsx)("p",{children:null==t?void 0:null===(i=t.category)||void 0===i?void 0:i.name}),(0,s.jsx)("p",{children:null==x?void 0:x.map(e=>{let i=JSON.parse(e);return i.name+" "})}),(0,s.jsx)(c.D,{children:(null==t?void 0:null===(l=t.desc)||void 0===l?void 0:l.substring(0,200))+"..."}),(0,s.jsxs)("p",{children:["Rate: ",null==t?void 0:t.rating]}),(0,s.jsx)("div",{className:"d-flex justify-content-between",children:(0,s.jsxs)("p",{children:["Review likes: ",null==t?void 0:t.likes]})})]})]}),v===(null==u?void 0:u.user.id)&&(0,s.jsxs)(o.Z,{className:"col col-auto",children:[(0,s.jsx)(o.Z.Toggle,{variant:"secondary",id:"dropdown-basic",children:"More actions"}),(0,s.jsxs)(o.Z.Menu,{children:[(0,s.jsx)(o.Z.Item,{href:"/review/edit/".concat(null==t?void 0:t._id),children:"Edit"}),(0,s.jsx)(o.Z.Divider,{}),(0,s.jsx)(o.Z.Item,{className:"text-danger",onClick:()=>n.Z.delete("/api/review/delete/".concat(null==t?void 0:t._id)),children:"Delete"})]})]})]})}),(0,s.jsx)("hr",{className:"w-100"})]})}},2115:function(e,i,l){"use strict";l.d(i,{Z:function(){return o}});var s=l(7437),n=l(2749),d=l(1396),t=l.n(d),r=l(2265),a=l(9588);function o(e){var i,l,d,o,c,v;let{reviewData:u}=e,[h,x]=(0,r.useState)(JSON.parse(JSON.stringify(null==u?void 0:u.tags))),{data:m,status:j}=(0,n.useSession)();return(0,s.jsxs)("div",{className:"mb-5",children:[(0,s.jsxs)("div",{className:"d-flex",children:[(0,s.jsx)(t(),{href:"/review/".concat(null==u?void 0:u._id),className:"text-decoration-none text-body mt-2 me-3",children:(0,s.jsx)("div",{style:{maxWidth:"150px"},children:(0,s.jsx)("img",{src:null==u?void 0:u.img,alt:"",className:"object-fit-cover w-100 h-auto",style:{minWidth:"70px"}})})}),(0,s.jsxs)("div",{className:"w-75",style:{minWidth:"180px"},children:[(0,s.jsxs)(t(),{href:"/review/".concat(u._id),className:"text-decoration-none text-body",children:[(0,s.jsx)("h2",{children:null==u?void 0:u.titleReview}),(0,s.jsx)("h4",{children:null==u?void 0:u.titleItem}),(0,s.jsx)("p",{children:null==u?void 0:null===(i=u.category)||void 0===i?void 0:i.name}),(0,s.jsx)("p",{children:null==h?void 0:h.map(e=>{let i=JSON.parse(e);return i.name+" "})}),(0,s.jsx)(a.D,{children:(null==u?void 0:null===(l=u.desc)||void 0===l?void 0:l.substring(0,200))+"..."}),(0,s.jsxs)("p",{children:["Rate: ",null==u?void 0:u.rating]})]}),(0,s.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,s.jsxs)("p",{children:["Review likes: ",null==u?void 0:u.likes]}),(null==u?void 0:null===(d=u.author)||void 0===d?void 0:d.name)&&(0,s.jsxs)("p",{children:["Author: \xa0",(0,s.jsx)(t(),{href:(null==u?void 0:null===(o=u.author)||void 0===o?void 0:o._id)===(null==m?void 0:null===(c=m.user)||void 0===c?void 0:c.id)?"/profile":"/profile/".concat(null==u?void 0:null===(v=u.author)||void 0===v?void 0:v._id),className:"text-primary",children:null==u?void 0:u.author.name})]})]})]})]}),(0,s.jsx)("hr",{className:"w-100"})]})}}},function(e){e.O(0,[676,726,222,153,333,588,279,471,480,971,596,744],function(){return e(e.s=8897)}),_N_E=e.O()}]);