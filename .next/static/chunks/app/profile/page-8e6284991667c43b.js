(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{8949:function(e,n,t){"use strict";t.d(n,{FT:function(){return s}});var i=t(2265),r=t(7437);let l=["as","disabled"];function s({tagName:e,disabled:n,href:t,target:i,rel:r,role:l,onClick:s,tabIndex:a=0,type:o}){e||(e=null!=t||null!=i||null!=r?"a":"button");let d={tagName:e};if("button"===e)return[{type:o||"button",disabled:n},d];let u=i=>{var r;if(!n&&("a"!==e||(r=t)&&"#"!==r.trim())||i.preventDefault(),n){i.stopPropagation();return}null==s||s(i)};return"a"===e&&(t||(t="#"),n&&(t=void 0)),[{role:null!=l?l:"button",disabled:void 0,tabIndex:n?void 0:a,href:t,target:"a"===e?i:void 0,"aria-disabled":n||void 0,rel:"a"===e?r:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},d]}let a=i.forwardRef((e,n)=>{let{as:t,disabled:i}=e,a=function(e,n){if(null==e)return{};var t,i,r={},l=Object.keys(e);for(i=0;i<l.length;i++)t=l[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,l),[o,{tagName:d}]=s(Object.assign({tagName:t,disabled:i},a));return(0,r.jsx)(d,Object.assign({},a,o,{ref:n}))});a.displayName="Button",n.ZP=a},4440:function(e,n){var t;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var l=typeof t;if("string"===l||"number"===l)e.push(t);else if(Array.isArray(t)){if(t.length){var s=r.apply(null,t);s&&e.push(s)}}else if("object"===l){if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]")){e.push(t.toString());continue}for(var a in t)i.call(t,a)&&t[a]&&e.push(a)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0!==(t=(function(){return r}).apply(n,[]))&&(e.exports=t)}()},6245:function(e,n,t){Promise.resolve().then(t.bind(t,3952))},3952:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return x}});var i=t(7437),r=t(1279),l=t(2759),s=t(1396),a=t.n(s),o=t(2749),d=t(6525),u=t(9222),c=t(6716),v=t(6526);function x(e){var n,t,s;let{params:x}=e,{data:f,status:h}=(0,o.useSession)(),p=null==f?void 0:f.user.id,{data:m,error:j,isLoading:g}=(0,d.ZP)("/api/profile/".concat(p),async()=>{let e=await u.Z.get("/api/profile/".concat(p));return e.data},{refreshInterval:100});if(g)return(0,i.jsx)("p",{children:"Loading..."});if(j)return console.log(j),(0,i.jsx)("p",{children:"Something went wrong. Try to reload page"});let b=[];return null===(n=m[1])||void 0===n||n.filter(e=>{e.likes.length>0&&b.push(...e.likes)}),(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"row",style:{marginTop:"80px"},children:[(0,i.jsxs)("div",{className:"col col-md-3 mb-4",style:{minWidth:"260px"},children:[(0,i.jsx)("h1",{className:"mb-4",children:"Your profile"}),(0,i.jsxs)("div",{className:"p-4 shadow rounded",children:[(0,i.jsx)("p",{children:null==f?void 0:f.user.name}),(0,i.jsx)("p",{children:null==f?void 0:f.user.email}),(0,i.jsxs)("p",{children:["Reviews:\xa0",(0,i.jsxs)("strong",{children:[" ",null===(t=m[1])||void 0===t?void 0:t.length," "]})]}),(0,i.jsxs)("p",{children:["Likes:\xa0",(0,i.jsx)("strong",{children:b.length}),"\xa0",(0,i.jsx)(r.G,{icon:l.m6i})]}),p===(null==f?void 0:f.user.id)&&(0,i.jsx)(c.Z,{variant:"outline-danger",onClick:()=>(0,o.signOut)(),children:"Log Out"})]})]}),(0,i.jsxs)("div",{className:"col",style:{minWidth:"70%"},children:[(0,i.jsxs)("div",{className:"mb-4 d-flex justify-content-between",children:[(0,i.jsx)("h1",{children:"Your reviews"}),p===(null==f?void 0:f.user.id)&&(0,i.jsx)("div",{className:"pt-2",children:(0,i.jsxs)(a(),{href:"/review/add",className:"btn btn-primary",children:[(0,i.jsx)(r.G,{icon:l.r8p,style:{width:"14px",height:"16px"}}),"\xa0 Add new"]})})]}),0===m[1].length&&(0,i.jsx)("p",{children:"There are no reviews here yet"}),null===(s=m[1])||void 0===s?void 0:s.map(e=>(0,i.jsx)(v.Z,{reviewData:e,id:p}))]})]})})}},6526:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var i=t(7437),r=t(9222),l=t(2749),s=t(1396),a=t.n(s),o=t(2265),d=t(4850),u=t(9588);function c(e){var n,t;let{reviewData:s,id:c}=e,{data:v,status:x}=(0,l.useSession)(),[f,h]=(0,o.useState)(JSON.parse(JSON.stringify(null==s?void 0:s.tags)));return(0,i.jsxs)("div",{className:"mb-5",children:[(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsxs)(a(),{href:"/review/".concat(null==s?void 0:s._id),className:"col text-decoration-none text-body d-flex ",children:[(0,i.jsx)("div",{className:"mt-2 me-3",style:{maxWidth:"150px"},children:(0,i.jsx)("img",{src:null==s?void 0:s.img,alt:"",className:"object-fit-cover w-100 h-auto",style:{minWidth:"70px"}})}),(0,i.jsxs)("div",{style:{minWidth:"180px"},children:[(0,i.jsx)("h2",{children:null==s?void 0:s.titleReview}),(0,i.jsx)("h4",{children:null==s?void 0:s.titleItem}),(0,i.jsx)("p",{children:null==s?void 0:null===(n=s.category)||void 0===n?void 0:n.name}),(0,i.jsx)("p",{children:null==f?void 0:f.map(e=>{let n=JSON.parse(e);return n.name+" "})}),(0,i.jsx)(u.D,{children:(null==s?void 0:null===(t=s.desc)||void 0===t?void 0:t.substring(0,200))+"..."}),(0,i.jsxs)("p",{children:["Rate: ",null==s?void 0:s.rating]}),(0,i.jsx)("div",{className:"d-flex justify-content-between",children:(0,i.jsxs)("p",{children:["Review likes: ",null==s?void 0:s.likes.length]})})]})]}),(c===(null==v?void 0:v.user.id)||(null==v?void 0:v.user.admin))&&(0,i.jsxs)(d.Z,{className:"col col-auto",children:[(0,i.jsx)(d.Z.Toggle,{variant:"secondary",id:"dropdown-basic",children:"More actions"}),(0,i.jsxs)(d.Z.Menu,{children:[(0,i.jsx)(d.Z.Item,{href:"/review/edit/".concat(null==s?void 0:s._id),children:"Edit"}),(0,i.jsx)(d.Z.Divider,{}),(0,i.jsx)(d.Z.Item,{className:"text-danger",onClick:()=>r.Z.delete("/api/review/delete/".concat(null==s?void 0:s._id)),children:"Delete"})]})]})]})}),(0,i.jsx)("hr",{className:"w-100"})]},null==s?void 0:s._id)}},6716:function(e,n,t){"use strict";var i=t(4440),r=t.n(i),l=t(2265),s=t(8949),a=t(7127),o=t(7437);let d=l.forwardRef(({as:e,bsPrefix:n,variant:t="primary",size:i,active:l=!1,disabled:d=!1,className:u,...c},v)=>{let x=(0,a.vE)(n,"btn"),[f,{tagName:h}]=(0,s.FT)({tagName:e,disabled:d,...c});return(0,o.jsx)(h,{...f,...c,ref:v,disabled:d,className:r()(u,x,l&&"active",t&&`${x}-${t}`,i&&`${x}-${i}`,c.href&&d&&"disabled")})});d.displayName="Button",n.Z=d},7127:function(e,n,t){"use strict";t.d(n,{SC:function(){return u},pi:function(){return o},vE:function(){return a},zG:function(){return d}});var i=t(2265);t(7437);let r=i.createContext({prefixes:{},breakpoints:["xxl","xl","lg","md","sm","xs"],minBreakpoint:"xs"}),{Consumer:l,Provider:s}=r;function a(e,n){let{prefixes:t}=(0,i.useContext)(r);return e||t[n]||n}function o(){let{breakpoints:e}=(0,i.useContext)(r);return e}function d(){let{minBreakpoint:e}=(0,i.useContext)(r);return e}function u(){let{dir:e}=(0,i.useContext)(r);return"rtl"===e}},2510:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var i=t(4440),r=t.n(i),l=/-(.)/g,s=t(2265),a=t(7127),o=t(7437);let d=e=>e[0].toUpperCase()+e.replace(l,function(e,n){return n.toUpperCase()}).slice(1);function u(e,{displayName:n=d(e),Component:t,defaultProps:i}={}){let l=s.forwardRef(({className:n,bsPrefix:l,as:s=t||"div",...d},u)=>{let c={...i,...d},v=(0,a.vE)(l,e);return(0,o.jsx)(s,{ref:u,className:r()(n,v),...c})});return l.displayName=n,l}},267:function(e){"use strict";e.exports=function(){}}},function(e){e.O(0,[676,726,222,749,588,279,86,333,850,971,596,744],function(){return e(e.s=6245)}),_N_E=e.O()}]);