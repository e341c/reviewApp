(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[523],{8955:function(){},4598:function(){},1408:function(){},9266:function(e,l,t){Promise.resolve().then(t.bind(t,6453))},6453:function(e,l,t){"use strict";t.r(l);var a=t(7437),n=t(2265),s=t(3772);l.default=()=>{let[e,l]=(0,n.useState)(null),[t,i]=(0,n.useState)([]),[c,o]=(0,n.useState)(!1),r="reviewappitra",u=new s.N("https://".concat(r,".blob.core.windows.net/?").concat("sp=racwdli&st=2023-08-31T13:06:48Z&se=2023-10-30T21:06:48Z&spr=https&sv=2022-11-02&sr=c&sig=pjRQdV5xn4qDV6%2FPaLWbsFIWyKbtj0Ma4um1YVw%2FINo%3D")),d=u.getContainerClient("images"),p=async()=>{try{let e=d.listBlobsFlat(),l=[];for await(let t of e){let e=d.getBlockBlobClient(t.name);l.push({name:t.name,url:e.url})}i(l)}catch(e){console.error(e)}finally{o(!1)}};console.log(r);let h=async l=>{if(l.preventDefault(),!e){alert("Please select an image to upload");return}try{o(!0);let l="".concat(new Date().getTime(),"-").concat(e.name),t=d.getBlockBlobClient(l);await t.uploadData(e,{blobHTTPHeaders:{blobContentType:e.type}}),await p()}catch(e){console.error(e)}finally{o(!1)}},m=async e=>{try{o(!0);let l=d.getBlockBlobClient(e);await l.delete(),p()}catch(e){console.log(e)}finally{o(!1)}};(0,n.useEffect)(()=>{p()},[]);let f=e=>{let l=e.lastIndexOf(".");return -1!==l?e.slice(0,l):e};return(0,a.jsxs)("div",{className:"container",children:[c&&(0,a.jsx)("p",{children:"Loading"}),(0,a.jsx)("h2",{children:"\uD83D\uDCF8 Image Gallery Azure Blob Storage \uD83D\uDCF8"}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"row-form",children:(0,a.jsxs)("form",{className:"upload-form",children:[(0,a.jsx)("div",{className:"upload-form_display",children:e?(0,a.jsx)("img",{className:"displayImg",src:URL.createObjectURL(e),alt:"no pic"}):(0,a.jsx)("p",{children:"IMG"})}),(0,a.jsxs)("div",{className:"upload-form_inputs",children:[(0,a.jsx)("label",{htmlFor:"fileInput",children:"Input"}),(0,a.jsx)("input",{type:"file",style:{display:"none"},id:"fileInput",onChange:e=>l(e.target.files[0])}),(0,a.jsx)("button",{type:"submit",onClick:h,children:"Upload"})]})]})}),(0,a.jsx)("div",{className:"row-display",children:0===t.length?(0,a.jsx)("h3",{children:"\uD83D\uDE10 No Images Found\uD83D\uDE10 "}):t&&t.map((e,l)=>(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("img",{src:e.url,alt:"no pic"}),(0,a.jsx)("h3",{style:{width:"90%"},children:f(e.name)}),(0,a.jsxs)("button",{className:"del",onClick:()=>m(e.name),children:[" ",(0,a.jsx)(AiFillDelete,{})," "]})]},l))})]})}}},function(e){e.O(0,[216,815,772,971,596,744],function(){return e(e.s=9266)}),_N_E=e.O()}]);